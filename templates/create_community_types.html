{% extends 'base.html' %}

{% load widget_tweaks %}

{% load static %}

{% block breadcrumb %}
  <li class="breadcrumb-item active"><a href="{% url 'home' %}">Home</a></li>
  <li class="breadcrumb-item">Community Types Creation</li>
{% endblock %}

{% block content %}
{% if messages %}
<div class="alert alert-success" role="alert">
<ul class="messages">
    {% for message in messages %}
    <li {% if message.tags %} class="{{ message.tags }}"{% endif %}>{{ message }}</li>
    {% endfor %}
</ul>
</div>
{% endif %}
{% if user.is_authenticated %}
<form method="post" name = "form" action="{% url 'create_community_type' %}" enctype="multipart/form-data">
  {% csrf_token %}
  <div class="form-group">
    <label for="name">Name</label>
    <input type="text" class="form-control" id="name" name="name" ng-model="name" ng-pattern="/^[a-z A-Z ()]*$/" placeholder="Give a name to your community type"  required>
    <div class="invalid-feedback">
      <span class="label" style="color:red" ng-show = "form.name.$error.pattern" >Only alphabets are allowed</span>
    <span style="color:red" ng-show="form.name.$dirty && form.name.$invalid">Please provide a name for this community</span>
    </div>
  </div>
  <div class="form-group">
    <label for="username">Type No.</label>
    <input type="text" class="form-control" id="typeno" name="typeno" placeholder="Enter the type no. of the community type" required>
    <div class="invalid-feedback"></div>
  </div>
  <div class="form-group">
    <label class="custom-file">
      Community Type Image
      <input type="file" class="custom-file-input" id="type_image" name ="type_image" >
      <span class="custom-file-control"></span>
    </label>
  </div>
  <button id="create" type="submit" class="btn btn-primary" ng-disabled="form.$invalid">Create</button>
</form>
<br />
{% endif %}
{% endblock %}
{% block javascript %}
<script src="{% static 'js/angular.min.js' %}"></script>
{% endblock %}
