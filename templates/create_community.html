{% extends 'base.html' %}

{% load widget_tweaks %}

{% load static %}
{% block css %}
<link href="{% static 'css/fileinput.min.css' %}" rel="stylesheet">
<style>
.ck-editor__editable {
    min-height: 200px;
}
</style>
{% endblock %}
{% block breadcrumb %}
  <li class="breadcrumb-item active"><a href="{% url 'home' %}">Home</a></li>
  <li class="breadcrumb-item">Community Creation</li>
  {% if user.is_authenticated %}
  <!--li class="breadcrumb-item active"><a href="{% url 'user_dashboard' %}">Dashboard</a></-->
  {% endif %}

{% endblock %}

{% block content %}


{% if messages %}
    {% for message in messages %}
      {% if message.tags %}<div class="alert alert-{{ message.tags }}" role="alert">{% endif %}{{ message }}</div>
    {% endfor %}

{% endif %}
<br/>
   <form method="post" enctype="multipart/form-data" novalidate>
                      {% csrf_token %}

                  <div class="form-group">
                    <label for="title">Name</label>
                    {{ form.name }}
                    <div class="invalid-feedback">
                      {{ form.name.errors }}
                    </div>
                  </div>

                <div class="form-group">
                  <label for="title">Description</label>
                    {{ form.desc }}
                    <div class="invalid-feedback">
                      {{ form.desc.errors }}
                    </div>
                  <small id="bodyhelp" class="form-text text-muted">You can create your content in 4000 words.</small>
                  </div>

                  <div class="form-group custom-file">
                    <label for="image">Image</label>
                      {{form.image}}
                </div>
                <div class="form-group">
                    <label for="title">Category</label>
                    {{ form.category }}
                    <div class="invalid-feedback">
                      {{ form.category.errors }}
                    </div>
                  </div>
                  <div class="form-group">
                    <label for="title">Tag Line</label>
                    {{ form.tag_line }}
                    <div class="invalid-feedback">
                      {{ form.tag_line.errors }}
                    </div>
                  </div>
                  {% if form.created_by %}
                  <div class="form-group">
                    <label for="title">Assign Admin</label>
                    {{ form.created_by }}
                    <div class="invalid-feedback">
                      {{ form.created_by.errors }}
                    </div>
                  </div>
                  {% endif %}

                  {% if form.parent %}
                  <div class="form-group">
                    <label for="title">Group of</label>
                    {{ form.parent }}
                    <div class="invalid-feedback">
                      {{ form.parent.errors }}
                    </div>
                  </div>
                  {% endif %}

                <div class="form-group">
                <button type="submit"  class="btn btn-outline-info"  name="submit" value='submit' id="submit">Submit</button>
              </div>
              
          </form>
<br />
{% endblock %}
{% block javascript %}
<script src="{% static 'js/ckeditor/ckeditor.js'  %}"></script>
<script>
  ClassicEditor
    .create( document.querySelector( '#id_desc' ) )
    .then( editor => {
      console.log( editor );
    } )
    .catch( error => {
      console.error( error );
    } );
</script>
<script src="{% static 'js/jquery-3.2.1.min.js'  %}"></script>
<script src="{% static 'js/bootstrap_fileinput/piexif.min.js' %}"></script>
<script src="{% static 'js/bootstrap_fileinput/purify.min.js' %}"></script>
<script src="{% static 'js/bootstrap_fileinput/sortable.min.js' %}"></script>
<script src="{% static 'js/bootstrap_fileinput/fileinput.min.js' %}"></script>
{% endblock %}
